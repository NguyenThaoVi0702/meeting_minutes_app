
--- STEP 3: PROCESSING A FULL MEETING ---

Testing: POST /meeting/start-bbh for requestId 'test_Hop TO 11092025_1758101489'...
  -> [Start Meeting] Status: 201
     Response: {
  "status": 201,
  "message": "Meeting initialized. Ready for chunk uploads."
}

Testing: POST /meeting/upload-file-chunk...
  -> [Upload Chunks] All chunks sent.

--- STEP 4: WAITING FOR TRANSCRIPTION VIA WEBSOCKET ---

[WebSocket] Connecting to ws://api:8072/api/v1/meeting/ws/test_Hop TO 11092025_1758101489...
[WebSocket] Error: Handshake status 400 Bad Request -+-+- {'date': 'Wed, 17 Sep 2025 09:31:30 GMT', 'server': 'uvicorn', 'content-type': 'text/plain; charset=utf-8', 'content-length': '30', 'connection': 'close'} -+-+- b'Invalid HTTP request received.'
[WebSocket] Connection closed.

Testing: GET /meeting/test_Hop TO 11092025_1758101489/status (after transcription)
  -> [Get Status] Status: 200
     Response: {
  "status": 200,
  "message": "Success",
  "data": {
    "request_id": "test_Hop TO 11092025_1758101489",
    "status": "transcribing",
    "bbh_name": "Test BBH Name",
    "meeting_type": "Test Type",
    "meeting_host": "Test Host",
    "language": "vi",
    "plain_transcript": null,
    "diarized_transcript": null,
    "error_message": null
  }
}

Testing: POST /meeting/test_Hop TO 11092025_1758101489/diarize
  -> [Trigger Diarization] Status: 400
     Response: {
  "detail": "Diarization can only be started when job status is 'transcription_complete'. Current status is 'transcribing'."
}

