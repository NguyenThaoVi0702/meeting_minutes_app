meeting_worker      | [2025-09-19 14:18:25,970: INFO/MainProcess] Published update for job 'test_Hop TO 11092025_1758266269': transcription_complete
meeting_worker      | [2025-09-19 14:18:25,971: INFO/MainProcess] [Job ID: 52] Transcription completed and saved successfully.
meeting_api_server  | 2025-09-19 14:18:25,972 - INFO - app.services.websocket_manager - Broadcasting message to 1 client(s) for request_id 'test_Hop TO 11092025_1758266269'.
meeting_worker      | [2025-09-19 14:18:25,973: INFO/MainProcess] Task run_transcription_task[54ff3f30-9788-419b-b372-9ec9fb7dcff2] succeeded in 31.522235494107008s: None
meeting_worker      | [2025-09-19 14:18:25,977: INFO/MainProcess] missed heartbeat from celery@fe7e2fac3ea3
meeting_api_server  | 2025-09-19 14:18:25,996 - INFO - app.api.routes.meeting - WebSocket disconnected for request_id 'test_Hop TO 11092025_1758266269'.
meeting_api_server  | 2025-09-19 14:18:25,996 - INFO - app.services.websocket_manager - WebSocket disconnected for request_id 'test_Hop TO 11092025_1758266269'.
meeting_api_server  | INFO:     connection closed
meeting_api_server  | 2025-09-19 14:18:25,998 INFO sqlalchemy.engine.Engine BEGIN (implicit)
meeting_api_server  | 2025-09-19 14:18:25,998 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
meeting_api_server  | 2025-09-19 14:18:25,999 INFO sqlalchemy.engine.Engine SELECT "user".id, "user".username, "user".display_name, "user".created_at
meeting_api_server  | FROM "user"
meeting_api_server  | WHERE "user".username = %(username_1)s
meeting_api_server  | 2025-09-19 14:18:25,999 INFO sqlalchemy.engine.Engine [cached since 139.7s ago] {'username_1': 'test_user_01'}
meeting_api_server  | 2025-09-19 14:18:25,999 - INFO - sqlalchemy.engine.Engine - SELECT "user".id, "user".username, "user".display_name, "user".created_at
meeting_api_server  | FROM "user"
meeting_api_server  | WHERE "user".username = %(username_1)s
meeting_api_server  | 2025-09-19 14:18:25,999 - INFO - sqlalchemy.engine.Engine - [cached since 139.7s ago] {'username_1': 'test_user_01'}
meeting_api_server  | 2025-09-19 14:18:26,001 - INFO - sqlalchemy.engine.Engine - SELECT meetingjob.id, meetingjob.request_id, meetingjob.user_id, meetingjob.original_filename, meetingjob.bbh_name, meetingjob.meeting_type, meetingjob.meeting_host, meetingjob.language, meetingjob.upload_started_at, meetingjob.upload_finished_at, meetingjob.status, meetingjob.diarization_job_id, meetingjob.error_message, meetingjob.created_at, meetingjob.updated_at
meeting_api_server  | FROM meetingjob
meeting_api_server  | WHERE meetingjob.request_id = %(request_id_1)s
meeting_api_server  | 2025-09-19 14:18:26,001 - INFO - sqlalchemy.engine.Engine - [cached since 139.7s ago] {'request_id_1': 'test_Hop TO 11092025_1758266269'}
meeting_api_server  | 2025-09-19 14:18:26,001 INFO sqlalchemy.engine.Engine SELECT meetingjob.id, meetingjob.request_id, meetingjob.user_id, meetingjob.original_filename, meetingjob.bbh_name, meetingjob.meeting_type, meetingjob.meeting_host, meetingjob.language, meetingjob.upload_started_at, meetingjob.upload_finished_at, meetingjob.status, meetingjob.diarization_job_id, meetingjob.error_message, meetingjob.created_at, meetingjob.updated_at
meeting_api_server  | FROM meetingjob
meeting_api_server  | WHERE meetingjob.request_id = %(request_id_1)s
meeting_api_server  | 2025-09-19 14:18:26,001 INFO sqlalchemy.engine.Engine [cached since 139.7s ago] {'request_id_1': 'test_Hop TO 11092025_1758266269'}
meeting_api_server  | 2025-09-19 14:18:26,003 INFO sqlalchemy.engine.Engine SELECT transcription.id, transcription.meeting_job_id, transcription.language, transcription.transcript_data, transcription.is_edited, transcription.created_at, transcription.updated_at
meeting_api_server  | FROM transcription
meeting_api_server  | WHERE transcription.meeting_job_id = %(meeting_job_id_1)s AND transcription.language = %(language_1)s
meeting_api_server  | 2025-09-19 14:18:26,003 INFO sqlalchemy.engine.Engine [cached since 138.5s ago] {'meeting_job_id_1': 52, 'language_1': 'vi'}
meeting_api_server  | 2025-09-19 14:18:26,003 - INFO - sqlalchemy.engine.Engine - SELECT transcription.id, transcription.meeting_job_id, transcription.language, transcription.transcript_data, transcription.is_edited, transcription.created_at, transcription.updated_at
meeting_api_server  | FROM transcription
meeting_api_server  | WHERE transcription.meeting_job_id = %(meeting_job_id_1)s AND transcription.language = %(language_1)s
meeting_api_server  | 2025-09-19 14:18:26,003 - INFO - sqlalchemy.engine.Engine - [cached since 138.5s ago] {'meeting_job_id_1': 52, 'language_1': 'vi'}
meeting_api_server  | 2025-09-19 14:18:26,015 INFO sqlalchemy.engine.Engine ROLLBACK
meeting_api_server  | 2025-09-19 14:18:26,015 - INFO - sqlalchemy.engine.Engine - ROLLBACK
meeting_api_server  | INFO:     192.168.16.4:33372 - "GET /api/v1/meeting/test_Hop%20TO%2011092025_1758266269/status?username=test_user_01 HTTP/1.1" 500 Internal Server Error
meeting_api_server  | ERROR:    Exception in ASGI application
meeting_api_server  | Traceback (most recent call last):
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
meeting_api_server  |     result = await app(  # type: ignore[func-returns-value]
meeting_api_server  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
meeting_api_server  |     return await self.app(scope, receive, send)
meeting_api_server  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/fastapi/applications.py", line 1054, in __call__
meeting_api_server  |     await super().__call__(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/applications.py", line 112, in __call__
meeting_api_server  |     await self.middleware_stack(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/middleware/errors.py", line 187, in __call__
meeting_api_server  |     raise exc
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/middleware/errors.py", line 165, in __call__
meeting_api_server  |     await self.app(scope, receive, _send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/middleware/cors.py", line 85, in __call__
meeting_api_server  |     await self.app(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/middleware/exceptions.py", line 62, in __call__
meeting_api_server  |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/_exception_handler.py", line 53, in wrapped_app
meeting_api_server  |     raise exc
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/_exception_handler.py", line 42, in wrapped_app
meeting_api_server  |     await app(scope, receive, sender)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/routing.py", line 714, in __call__
meeting_api_server  |     await self.middleware_stack(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/routing.py", line 734, in app
meeting_api_server  |     await route.handle(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/routing.py", line 288, in handle
meeting_api_server  |     await self.app(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/routing.py", line 76, in app
meeting_api_server  |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/_exception_handler.py", line 53, in wrapped_app
meeting_api_server  |     raise exc
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/_exception_handler.py", line 42, in wrapped_app
meeting_api_server  |     await app(scope, receive, sender)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/routing.py", line 73, in app
meeting_api_server  |     response = await f(request)
meeting_api_server  |                ^^^^^^^^^^^^^^^^
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/fastapi/routing.py", line 301, in app
meeting_api_server  |     raw_response = await run_endpoint_function(
meeting_api_server  |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/fastapi/routing.py", line 212, in run_endpoint_function
meeting_api_server  |     return await dependant.call(**values)
meeting_api_server  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
meeting_api_server  |   File "/code/app/api/routes/meeting.py", line 199, in get_meeting_status
meeting_api_server  |     formatted_data = _format_job_status(job, db)
meeting_api_server  |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^
meeting_api_server  |   File "/code/app/api/routes/meeting.py", line 55, in _format_job_status
meeting_api_server  |     plain_transcript_data = [PlainSegment(**seg) for seg in transcription_entry.transcript_data]
meeting_api_server  |                              ^^^^^^^^^^^^^^^^^^^
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/pydantic/main.py", line 253, in __init__
meeting_api_server  |     validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
meeting_api_server  |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
meeting_api_server  | pydantic_core._pydantic_core.ValidationError: 3 validation errors for PlainSegment
meeting_api_server  | text
meeting_api_server  |   Field required [type=missing, input_value={'end': 0.16, 'word': 'bác', 'start': 0.0}, input_type=dict]
meeting_api_server  |     For further information visit https://errors.pydantic.dev/2.11/v/missing
meeting_api_server  | start_time
meeting_api_server  |   Field required [type=missing, input_value={'end': 0.16, 'word': 'bác', 'start': 0.0}, input_type=dict]
meeting_api_server  |     For further information visit https://errors.pydantic.dev/2.11/v/missing
meeting_api_server  | end_time
meeting_api_server  |   Field required [type=missing, input_value={'end': 0.16, 'word': 'bác', 'start': 0.0}, input_type=dict]
meeting_api_server  |     For further information visit https://errors.pydantic.dev/2.11/v/missing
meeting_api_server  | 2025-09-19 14:18:26,027 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
meeting_api_server  | 2025-09-19 14:18:26,027 INFO sqlalchemy.engine.Engine BEGIN (implicit)
meeting_api_server  | 2025-09-19 14:18:26,028 - INFO - sqlalchemy.engine.Engine - SELECT "user".id, "user".username, "user".display_name, "user".created_at
meeting_api_server  | FROM "user"
meeting_api_server  | WHERE "user".username = %(username_1)s
meeting_api_server  | 2025-09-19 14:18:26,028 - INFO - sqlalchemy.engine.Engine - [cached since 139.8s ago] {'username_1': 'test_user_01'}
meeting_api_server  | 2025-09-19 14:18:26,028 INFO sqlalchemy.engine.Engine SELECT "user".id, "user".username, "user".display_name, "user".created_at
meeting_api_server  | FROM "user"
meeting_api_server  | WHERE "user".username = %(username_1)s
meeting_api_server  | 2025-09-19 14:18:26,028 INFO sqlalchemy.engine.Engine [cached since 139.8s ago] {'username_1': 'test_user_01'}
meeting_api_server  | 2025-09-19 14:18:26,030 INFO sqlalchemy.engine.Engine SELECT meetingjob.id, meetingjob.request_id, meetingjob.user_id, meetingjob.original_filename, meetingjob.bbh_name, meetingjob.meeting_type, meetingjob.meeting_host, meetingjob.language, meetingjob.upload_started_at, meetingjob.upload_finished_at, meetingjob.status, meetingjob.diarization_job_id, meetingjob.error_message, meetingjob.created_at, meetingjob.updated_at


meeting_worker      | [2025-09-19 14:18:34,471: INFO/MainProcess] Published update for job 'test_Hop TO 11092025_1758266269': completed
meeting_worker      | [2025-09-19 14:18:34,471: INFO/MainProcess] [Job ID: 52] Diarization and mapping completed successfully.
meeting_worker      | [2025-09-19 14:18:34,474: INFO/MainProcess] Task run_diarization_task[60903288-1338-49c1-8914-31ad68c0e935] succeeded in 8.43097292818129s: None
meeting_worker      | [2025-09-19 14:18:34,478: INFO/MainProcess] missed heartbeat from celery@fe7e2fac3ea3
meeting_api_server  | 2025-09-19 14:28:26,050 INFO sqlalchemy.engine.Engine BEGIN (implicit)
meeting_api_server  | 2025-09-19 14:28:26,050 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
meeting_api_server  | 2025-09-19 14:28:26,051 INFO sqlalchemy.engine.Engine SELECT "user".id, "user".username, "user".display_name, "user".created_at
meeting_api_server  | FROM "user"
meeting_api_server  | WHERE "user".username = %(username_1)s
meeting_api_server  | 2025-09-19 14:28:26,051 - INFO - sqlalchemy.engine.Engine - SELECT "user".id, "user".username, "user".display_name, "user".created_at
meeting_api_server  | FROM "user"
meeting_api_server  | WHERE "user".username = %(username_1)s
meeting_api_server  | 2025-09-19 14:28:26,051 - INFO - sqlalchemy.engine.Engine - [cached since 739.8s ago] {'username_1': 'test_user_01'}
meeting_api_server  | 2025-09-19 14:28:26,051 INFO sqlalchemy.engine.Engine [cached since 739.8s ago] {'username_1': 'test_user_01'}
meeting_api_server  | 2025-09-19 14:28:26,054 INFO sqlalchemy.engine.Engine SELECT meetingjob.id, meetingjob.request_id, meetingjob.user_id, meetingjob.original_filename, meetingjob.bbh_name, meetingjob.meeting_type, meetingjob.meeting_host, meetingjob.language, meetingjob.upload_started_at, meetingjob.upload_finished_at, meetingjob.status, meetingjob.diarization_job_id, meetingjob.error_message, meetingjob.created_at, meetingjob.updated_at
meeting_api_server  | FROM meetingjob
meeting_api_server  | WHERE meetingjob.request_id = %(request_id_1)s
meeting_api_server  | 2025-09-19 14:28:26,055 INFO sqlalchemy.engine.Engine [cached since 739.8s ago] {'request_id_1': 'test_Hop TO 11092025_1758266269'}
meeting_api_server  | 2025-09-19 14:28:26,054 - INFO - sqlalchemy.engine.Engine - SELECT meetingjob.id, meetingjob.request_id, meetingjob.user_id, meetingjob.original_filename, meetingjob.bbh_name, meetingjob.meeting_type, meetingjob.meeting_host, meetingjob.language, meetingjob.upload_started_at, meetingjob.upload_finished_at, meetingjob.status, meetingjob.diarization_job_id, meetingjob.error_message, meetingjob.created_at, meetingjob.updated_at
meeting_api_server  | FROM meetingjob
meeting_api_server  | WHERE meetingjob.request_id = %(request_id_1)s
meeting_api_server  | 2025-09-19 14:28:26,055 - INFO - sqlalchemy.engine.Engine - [cached since 739.8s ago] {'request_id_1': 'test_Hop TO 11092025_1758266269'}
meeting_api_server  | 2025-09-19 14:28:26,057 - INFO - sqlalchemy.engine.Engine - SELECT transcription.id, transcription.meeting_job_id, transcription.language, transcription.transcript_data, transcription.is_edited, transcription.created_at, transcription.updated_at
meeting_api_server  | FROM transcription
meeting_api_server  | WHERE transcription.meeting_job_id = %(meeting_job_id_1)s AND transcription.language = %(language_1)s
meeting_api_server  | 2025-09-19 14:28:26,057 - INFO - sqlalchemy.engine.Engine - [cached since 738.6s ago] {'meeting_job_id_1': 52, 'language_1': 'vi'}
meeting_api_server  | 2025-09-19 14:28:26,057 INFO sqlalchemy.engine.Engine SELECT transcription.id, transcription.meeting_job_id, transcription.language, transcription.transcript_data, transcription.is_edited, transcription.created_at, transcription.updated_at
meeting_api_server  | FROM transcription
meeting_api_server  | WHERE transcription.meeting_job_id = %(meeting_job_id_1)s AND transcription.language = %(language_1)s
meeting_api_server  | 2025-09-19 14:28:26,057 INFO sqlalchemy.engine.Engine [cached since 738.6s ago] {'meeting_job_id_1': 52, 'language_1': 'vi'}
meeting_api_server  | 2025-09-19 14:28:26,068 - INFO - sqlalchemy.engine.Engine - ROLLBACK
meeting_api_server  | 2025-09-19 14:28:26,068 INFO sqlalchemy.engine.Engine ROLLBACK
meeting_api_server  | INFO:     192.168.16.4:55786 - "GET /api/v1/meeting/test_Hop%20TO%2011092025_1758266269/status?username=test_user_01 HTTP/1.1" 500 Internal Server Error
meeting_api_server  | ERROR:    Exception in ASGI application
meeting_api_server  | Traceback (most recent call last):
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
meeting_api_server  |     result = await app(  # type: ignore[func-returns-value]
meeting_api_server  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
meeting_api_server  |     return await self.app(scope, receive, send)
meeting_api_server  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/fastapi/applications.py", line 1054, in __call__
meeting_api_server  |     await super().__call__(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/applications.py", line 112, in __call__
meeting_api_server  |     await self.middleware_stack(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/middleware/errors.py", line 187, in __call__
meeting_api_server  |     raise exc
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/middleware/errors.py", line 165, in __call__
meeting_api_server  |     await self.app(scope, receive, _send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/middleware/cors.py", line 85, in __call__
meeting_api_server  |     await self.app(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/middleware/exceptions.py", line 62, in __call__
meeting_api_server  |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/_exception_handler.py", line 53, in wrapped_app
meeting_api_server  |     raise exc
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/_exception_handler.py", line 42, in wrapped_app
meeting_api_server  |     await app(scope, receive, sender)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/routing.py", line 714, in __call__
meeting_api_server  |     await self.middleware_stack(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/routing.py", line 734, in app
meeting_api_server  |     await route.handle(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/routing.py", line 288, in handle
meeting_api_server  |     await self.app(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/routing.py", line 76, in app
meeting_api_server  |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/_exception_handler.py", line 53, in wrapped_app
meeting_api_server  |     raise exc
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/_exception_handler.py", line 42, in wrapped_app
meeting_api_server  |     await app(scope, receive, sender)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/routing.py", line 73, in app
meeting_api_server  |     response = await f(request)
meeting_api_server  |                ^^^^^^^^^^^^^^^^
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/fastapi/routing.py", line 301, in app
meeting_api_server  |     raw_response = await run_endpoint_function(
meeting_api_server  |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/fastapi/routing.py", line 212, in run_endpoint_function
meeting_api_server  |     return await dependant.call(**values)
meeting_api_server  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
meeting_api_server  |   File "/code/app/api/routes/meeting.py", line 199, in get_meeting_status
meeting_api_server  |     formatted_data = _format_job_status(job, db)
meeting_api_server  |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^
meeting_api_server  |   File "/code/app/api/routes/meeting.py", line 55, in _format_job_status
meeting_api_server  |     plain_transcript_data = [PlainSegment(**seg) for seg in transcription_entry.transcript_data]
meeting_api_server  |                              ^^^^^^^^^^^^^^^^^^^
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/pydantic/main.py", line 253, in __init__
meeting_api_server  |     validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
meeting_api_server  |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
meeting_api_server  | pydantic_core._pydantic_core.ValidationError: 3 validation errors for PlainSegment
meeting_api_server  | text
meeting_api_server  |   Field required [type=missing, input_value={'end': 0.16, 'word': 'bác', 'start': 0.0}, input_type=dict]
meeting_api_server  |     For further information visit https://errors.pydantic.dev/2.11/v/missing
meeting_api_server  | start_time
meeting_api_server  |   Field required [type=missing, input_value={'end': 0.16, 'word': 'bác', 'start': 0.0}, input_type=dict]
meeting_api_server  |     For further information visit https://errors.pydantic.dev/2.11/v/missing
meeting_api_server  | end_time
meeting_api_server  |   Field required [type=missing, input_value={'end': 0.16, 'word': 'bác', 'start': 0.0}, input_type=dict]
meeting_api_server  |     For further information visit https://errors.pydantic.dev/2.11/v/missing
meeting_api_server  | 2025-09-19 14:28:26,079 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
meeting_api_server  | 2025-09-19 14:28:26,079 INFO sqlalchemy.engine.Engine BEGIN (implicit)
meeting_api_server  | 2025-09-19 14:28:26,080 INFO sqlalchemy.engine.Engine SELECT "user".id, "user".username, "user".display_name, "user".created_at
meeting_api_server  | FROM "user"
meeting_api_server  | WHERE "user".username = %(username_1)s
meeting_api_server  | 2025-09-19 14:28:26,080 - INFO - sqlalchemy.engine.Engine - SELECT "user".id, "user".username, "user".display_name, "user".created_at
meeting_api_server  | FROM "user"
meeting_api_server  | WHERE "user".username = %(username_1)s
meeting_api_server  | 2025-09-19 14:28:26,080 INFO sqlalchemy.engine.Engine [cached since 739.8s ago] {'username_1': 'test_user_01'}
meeting_api_server  | 2025-09-19 14:28:26,080 - INFO - sqlalchemy.engine.Engine - [cached since 739.8s ago] {'username_1': 'test_user_01'}
meeting_api_server  | 2025-09-19 14:28:26,083 - INFO - sqlalchemy.engine.Engine - SELECT meetingjob.id, meetingjob.request_id, meetingjob.user_id, meetingjob.original_filename, meetingjob.bbh_name, meetingjob.meeting_type, meetingjob.meeting_host, meetingjob.language, meetingjob.upload_started_at, meetingjob.upload_finished_at, meetingjob.status, meetingjob.diarization_job_id, meetingjob.error_message, meetingjob.created_at, meetingjob.updated_at
meeting_api_server  | FROM meetingjob
meeting_api_server  | WHERE meetingjob.request_id = %(request_id_1)s
meeting_api_server  | 2025-09-19 14:28:26,083 - INFO - sqlalchemy.engine.Engine - [cached since 739.8s ago] {'request_id_1': 'test_Hop TO 11092025_1758266269'}
meeting_api_server  | 2025-09-19 14:28:26,083 INFO sqlalchemy.engine.Engine SELECT meetingjob.id, meetingjob.request_id, meetingjob.user_id, meetingjob.original_filename, meetingjob.bbh_name, meetingjob.meeting_type, meetingjob.meeting_host, meetingjob.language, meetingjob.upload_started_at, meetingjob.upload_finished_at, meetingjob.status, meetingjob.diarization_job_id, meetingjob.error_message, meetingjob.created_at, meetingjob.updated_at
meeting_api_server  | FROM meetingjob
meeting_api_server  | WHERE meetingjob.request_id = %(request_id_1)s
meeting_api_server  | 2025-09-19 14:28:26,083 INFO sqlalchemy.engine.Engine [cached since 739.8s ago] {'request_id_1': 'test_Hop TO 11092025_1758266269'}
meeting_api_server  | 2025-09-19 14:28:26,085 - INFO - app.api.routes.meeting - Received request to generate 'topic' summary for job 'test_Hop TO 11092025_1758266269'.
meeting_api_server  | 2025-09-19 14:28:26,086 INFO sqlalchemy.engine.Engine SELECT transcription.id, transcription.meeting_job_id, transcription.language, transcription.transcript_data, transcription.is_edited, transcription.created_at, transcription.updated_at
meeting_api_server  | FROM transcription
meeting_api_server  | WHERE transcription.meeting_job_id = %(meeting_job_id_1)s AND transcription.language = %(language_1)s
meeting_api_server  | 2025-09-19 14:28:26,086 - INFO - sqlalchemy.engine.Engine - SELECT transcription.id, transcription.meeting_job_id, transcription.language, transcription.transcript_data, transcription.is_edited, transcription.created_at, transcription.updated_at
meeting_api_server  | FROM transcription
meeting_api_server  | WHERE transcription.meeting_job_id = %(meeting_job_id_1)s AND transcription.language = %(language_1)s
meeting_api_server  | 2025-09-19 14:28:26,086 INFO sqlalchemy.engine.Engine [cached since 738.6s ago] {'meeting_job_id_1': 52, 'language_1': 'vi'}
meeting_api_server  | 2025-09-19 14:28:26,086 - INFO - sqlalchemy.engine.Engine - [cached since 738.6s ago] {'meeting_job_id_1': 52, 'language_1': 'vi'}
meeting_api_server  | 2025-09-19 14:28:26,098 - INFO - sqlalchemy.engine.Engine - ROLLBACK
meeting_api_server  | 2025-09-19 14:28:26,098 INFO sqlalchemy.engine.Engine ROLLBACK
meeting_api_server  | INFO:     192.168.16.4:55798 - "POST /api/v1/meeting/test_Hop%20TO%2011092025_1758266269/summary?username=test_user_01 HTTP/1.1" 500 Internal Server Error
meeting_api_server  | ERROR:    Exception in ASGI application
meeting_api_server  | Traceback (most recent call last):
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
meeting_api_server  |     result = await app(  # type: ignore[func-returns-value]
meeting_api_server  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
meeting_api_server  |     return await self.app(scope, receive, send)
meeting_api_server  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/fastapi/applications.py", line 1054, in __call__
meeting_api_server  |     await super().__call__(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/applications.py", line 112, in __call__
meeting_api_server  |     await self.middleware_stack(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/middleware/errors.py", line 187, in __call__
meeting_api_server  |     raise exc
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/middleware/errors.py", line 165, in __call__
meeting_api_server  |     await self.app(scope, receive, _send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/middleware/cors.py", line 85, in __call__
meeting_api_server  |     await self.app(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/middleware/exceptions.py", line 62, in __call__
meeting_api_server  |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/_exception_handler.py", line 53, in wrapped_app
meeting_api_server  |     raise exc
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/_exception_handler.py", line 42, in wrapped_app
meeting_api_server  |     await app(scope, receive, sender)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/routing.py", line 714, in __call__
meeting_api_server  |     await self.middleware_stack(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/routing.py", line 734, in app
meeting_api_server  |     await route.handle(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/routing.py", line 288, in handle
meeting_api_server  |     await self.app(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/routing.py", line 76, in app
meeting_api_server  |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/_exception_handler.py", line 53, in wrapped_app
meeting_api_server  |     raise exc
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/_exception_handler.py", line 42, in wrapped_app
meeting_api_server  |     await app(scope, receive, sender)
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/starlette/routing.py", line 73, in app
meeting_api_server  |     response = await f(request)
meeting_api_server  |                ^^^^^^^^^^^^^^^^
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/fastapi/routing.py", line 301, in app
meeting_api_server  |     raw_response = await run_endpoint_function(
meeting_api_server  |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
meeting_api_server  |   File "/usr/local/lib/python3.12/dist-packages/fastapi/routing.py", line 212, in run_endpoint_function
meeting_api_server  |     return await dependant.call(**values)
meeting_api_server  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
meeting_api_server  |   File "/code/app/api/routes/meeting.py", line 458, in generate_summary
meeting_api_server  |     source_text = "\n".join([seg['text'] for seg in transcript_source])
meeting_api_server  |                              ~~~^^^^^^^^
meeting_api_server  | KeyError: 'text'
meeting_api_server  | 2025-09-19 14:28:26,108 INFO sqlalchemy.engine.Engine BEGIN (implicit)
