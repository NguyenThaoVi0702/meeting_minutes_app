# .env - Environment variables for the AI Meeting Assistant

# --------------------------------------------------------------------------
# PostgreSQL Database Configuration
# --------------------------------------------------------------------------
# Replace with the credentials for your PostgreSQL database.
POSTGRES_USER=your_postgres_user
POSTGRES_PASSWORD=your_postgres_password
POSTGRES_HOST=your_postgres_host_or_ip # e.g., localhost, or the IP of your DB server
POSTGRES_PORT=5432
POSTGRES_DB=your_database_name

# --------------------------------------------------------------------------
# Redis Configuration
# --------------------------------------------------------------------------
# The default host 'redis' matches the service name in docker-compose.yml.
# Only change this if your Redis is running elsewhere.
REDIS_HOST=redis
REDIS_PORT=6379
# If your Redis server is password-protected, uncomment and set the password.
# REDIS_PASSWORD=your_redis_password
REDIS_DB=0

# --------------------------------------------------------------------------
# LLM Service Configuration (LiteLLM pointing to your AI model)
# --------------------------------------------------------------------------
# Replace with the credentials for your LiteLLM proxy or the target LLM service.
LITE_LLM_API_KEY="your_secret_api_key"
LITE_LLM_BASE_URL="http://your_litellm_proxy_url/v1"
LITE_LLM_MODEL_NAME="your_registered_model_name_in_litellm" # e.g., "openai/gpt-4-turbo"

# Maximum number of previous conversation turns to include in the chat context.
LIMIT_TURN=6

# --------------------------------------------------------------------------
# Vector Database Configuration (Qdrant)
# --------------------------------------------------------------------------
# Replace with the host/IP where your Qdrant instance is running.
QDRANT_HOST=your_qdrant_host_or_ip
QDRANT_PORT=6333
# It's good practice to version your collection name in case you need to
# re-index or change the vector size in the future.
QDRANT_COLLECTION_NAME="meeting_speakers_v2"

# --------------------------------------------------------------------------
# Diarization Algorithm Parameters
# These can be tuned to improve diarization accuracy for your specific audio.
# --------------------------------------------------------------------------
DIAR_SEG_DURATION=3.0    # Duration of each audio segment for embedding (in seconds).
DIAR_SEG_OVERLAP=1.0     # Overlap between segments (in seconds).
DIAR_KNOWN_THRESH=0.55   # Similarity threshold (0 to 1) to identify a known speaker. Higher is stricter.
DIAR_HAC_THRESH=0.45     # Distance threshold for clustering unknown speakers. Lower values create more clusters.
DIAR_MERGE_PAUSE=0.7     # Max pause (in seconds) between two segments to be merged for the same speaker.
DIAR_VAD_THRESH=0.4      # Voice Activity Detection threshold (0 to 1). Higher values are more selective about what is considered "speech".
